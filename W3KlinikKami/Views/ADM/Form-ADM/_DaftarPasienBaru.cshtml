@model W3KlinikKami.Models.TB_PASIEN
@using W3KlinikKami.Messege

@{ 
    @* Flash Message *@
    Html.RenderPartial("~/Views/Shared/FlashMessage.cshtml");
}

@using (Html.BeginForm("DaftarPasienBaru", "ADM", FormMethod.Post))
{

    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-error" })

    <div class="form-item">
        <h3><u>Daftar Pasien Baru</u></h3>
    </div>

    @* nama lengkap pasien *@
    <div class="form-item">
        <div class="label-form-item">@Html.Label("Nama Lengkap", new { @for = "NAMA" })</div>
        @Html.TextBoxFor(model => model.NAMA, null, new { @placeholder = "Nama Lengkap", @autocomplete = "off", @autofocus = "true" })
        @Html.ValidationMessageFor(model => model.NAMA, "", new { @class = "text-error" })
    </div>

    @* jenis kelamin *@
    <div class="form-item">
        <div class="label-form-item">@Html.Label("Jenis Kelamin", new { @for = "JENIS_KELAMIN" })</div>
        @Html.DropDownListFor(model => model.JENIS_KELAMIN, new List<SelectListItem>()
        {
           new SelectListItem {Text = "Pria", Value = "Pria"},
           new SelectListItem {Text = "Wanita", Value = "Wanita"}
        }, "--Jenis Kelamin--", new { @placeholder = "Jenis Kelamin" })
        @Html.ValidationMessageFor(model => model.JENIS_KELAMIN, "", new { @class = "text-error" })
    </div>

    @* tanggal lahir *@
    <div class="form-item">

        <link href="~/Content/themes/base/jquery-ui.min.css" rel="stylesheet" />
        <script src="~/Scripts/jquery-3.6.0.min.js"></script>
        <script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>
        <script type="text/javascript">
            $(function () {
                $('#date').datepicker({
                    defaultDate: new Date(),
                    dateFormat: "dd-mm-yy",
                    yearRange: "1940:" + new Date().getFullYear,
                    changeMonth: true,
                    changeYear: true
                    //onSelect: function(datetext) {

                    //    var d = new Date(); // for now

                    //    var h = d.getHours();
                    //    h = (h < 10) ? ("0" + h) : h;

                    //    var m = d.getMinutes();
                    //    m = (m < 10) ? ("0" + m) : m;

                    //    var s = d.getSeconds();
                    //    s = (s < 10) ? ("0" + s) : s;

                    //    datetext = datetext + " " + h + ":" + m + ":" + s;

                    //    $('#date').val(datetext);
                    //}
                });
            });
        </script>
        <div class="label-form-item">@Html.Label("Tanggal Lahir", new { @for = "TANGGAL_LAHIR" })</div>
        @Html.TextBoxFor(
            model => model.TANGGAL_LAHIR,
            ViewData.TemplateInfo.FormattedModelValue.ToString(),
            new { @id = "date", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.JENIS_KELAMIN, "", new { @class = "text-error" })
    </div>

    @* golongan darah *@
    <div class="form-item">
        <div class="label-form-item">@Html.Label("Golongan Darah", new { @for = "GOLONGAN_DARAH" })</div>
        @Html.DropDownListFor(model => model.GOLONGAN_DARAH, new List<SelectListItem>()
        {
           new SelectListItem {Text = "O", Value = "O"},
           new SelectListItem {Text = "A", Value = "A"},
           new SelectListItem {Text = "AB", Value = "AB"},
        }, "--Golongan Darah--", new { @placeholder = "Jenis Kelamin" })
        @Html.ValidationMessageFor(model => model.GOLONGAN_DARAH, "", new { @class = "text-error" })
    </div>

    @* nomor HP *@
    <div class="form-item">
        <div class="label-form-item">@Html.LabelFor(model => model.NO_HP)</div>
        @Html.EditorFor(model => model.NO_HP, new { htmlAttributes = new { @type = "number", @placeholder = "Nomor HP", @autocomplete = "off" } })
        @Html.ValidationMessageFor(model => model.NO_HP, "", new { @class = "text-error" })
    </div>

    @* alamat *@
    <div class="form-item">
        <div class="label-form-item">@Html.LabelFor(model => model.ALAMAT)</div>
        @Html.TextAreaFor(model => model.ALAMAT, new { @placeholder = "Alamat" })
        @Html.ValidationMessageFor(model => model.ALAMAT, "", new { @class = "text-error" })
    </div>

    <div class="form-item">
        <input type="submit" value="Submit Data Pasien" />
    </div>
}